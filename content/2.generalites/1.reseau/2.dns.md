---
navigation: true
title: Zone DNS
main:
  fluid: false
---
:ellipsis{left=0px width=40rem top=10rem blur=140px}
# Noms de domaines et zone DNS

::alert{type="info"}
üéØ  __Objectifs :__
- Comprendre le fonctionnement d'un serveur DNS
- Comprendre comment modifier une zone DNS
::

## Introduction
---
Lorsque vous naviguez sur un site, ou une application, des requ√™tes sont √©mises vers un ou des domaines afin d'afficher le contenu de votre page. Votre appareil ne connait pas les adresses IP de ces serveurs √† joindre. Pour les connaitre, il va contacter un _serveur de nom_ (Domain Name Server) qui lui va lui r√©pondre avec l'adresse IP la plus √† jour pour le domaine de la requ√™te. 

La zone DNS, c'est une sorte de registre avec des panneaux qui redirige vos requ√™tes vers la bonne destination.

![Picture](/img/global/dns.svg)

## La zone DNS
---
Lorsque vous r√©servez un domaine chez votre registrar (cloudflare, ovh...), ce registrar vous attribue une zone DNS que vous pouvez personnaliser.

Vous pouvez rentrer des _enregistrements_ dans cette zone DNS qui permettront d'orienter les requ√™tes au bon endroit. Vous trouverez [plus d'information ici](https://help.ovhcloud.com/csm/fr-dns-servers-general-information?id=kb_article_view&sysparm_article=KB0051661).

Exemple d'une zone DNS du domaine mondomaine.fr:

```
@   IN SOA ns1.dns.me. dns.net. (2024051800 86400 3600 3600000 60)
                 IN NS     ns1.dns.me.
                 IN NS     ns2.dns.me.
                 IN A      203.0.113.0
www              IN CNAME  mondomaine.fr
sousdomaine      IN CNAME  mondomaine.fr
```

Dans cet exemple :

- `$TTL 3600` indique aux diff√©rents serveurs de noms de la plan√®te que les enregistrement sont valides 1h (et qu'au-del√† il faudra rev"rifier).
- `IN SOA ns1.dns.me. dns.net. (2024051800 86400 3600 3600000 60)` indique que `ns1.dns.me` est le serveur dns principal, et les nombres sont des indications de rafraichissement.
- `IN NS ns1.dns.me.` et `IN NS ns2.dns.me.` indique que `ns1.dns.me` et `ns2.dns.me` sont des serveurs de noms pour ce domaine.
- `IN A 203.0.113.0` signifie que `mondomaine.fr` pointe vers l'IP `203.0.113.0`
- `sousdomaine IN CNAME mondomaine.fr` signifie que `sousdomaine.mondomaine.fr` pointe vers `mondomaine.fr` et donc vers l'IP `203.0.113.0`.

Ainsi, si vous choisissez de pointer le domaine `mondomaine.fr` vers votre serveur, vous pouvez le faire en ajoutant un enregistrement `A` pointant vers l'IP publique de votre serveur.

::alert{type="warning"}
:::list{type="warning"}
- __Attention,__ Si votre serveur est chez vous :
:::
- l'IP publique est celle de votre box internet. Assurez-vous aupr√®s de votre op√©rateur que cette IP est fixe ou configurez un [DDNS](https://aws.amazon.com/fr/what-is/dynamic-dns/).
- assurez-vous d'avoir [redirig√© le port 443 vers le port d'√©coute de votre serveur](/generalites/reseau/nat).
::

Et si vous ajoutez un sous-domaine qui doit pointer vers votre serveur, vous pouvez utiliser un enregistrement `CNAME` vers `mondomaine.fr`.

::alert{type="info"}
:::list{type="info"}
- __Pourquoi ne pas utiliser un enregistrement `A` pour le sous-domaine ?__ Si votre sous domaine pointe sur le meme serveur que `mondomaine.fr`, il vaut mieux utiliser un enregistrement `CNAME` car en cas de changement d'IP du serveur, il n'y aura aucune autre manipulation √† faire.
:::
::

La plupart des registrar proposent des interfaces plus lisbles pour modifier ces informations. Renseignez-vous aupr√®s de la documentation de votre registrar.
