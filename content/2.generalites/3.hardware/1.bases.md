---
navigation: true
title: Les bases
main:
  fluid: false
---
:ellipsis{left=0px width=40rem top=10rem blur=140px}
# Les bases d'un serveur

::alert{type="info"}
üéØ __Objectifs :__
- Comprendre les bases du hardware d'un serveur
::

![hardware](/img/global/hardware.svg)

Un __serveur__ n'est rien d'autre qu'un ordinateur d√©di√© √† des taches particuli√®res, ayant vocation √† rester accessible en permanence. En soi, sa structure ne diff√®re pas d'un ordinateur classique, si ce n'est que selon l'usage cible, on fera √©voluer certains composants dans un sens ou dans un autre. Dans cet article, vous trouverez un aide m√©moire pour comprendre quels sont les composants essentiels d'un serveur et comprendre leur fonction selon vos usages.

## La carte m√®re
---
La __carte m√®re__ est le socle de votre machine. C'est le composant qui relie tous les autres composants. Elle sert √† les faire communiquer et √† interagir avec vos p√©riph√©riques (clavier, souris, etc...). Il faut donc la choisir en fonction de vos besoins en terme d'entr√©es/sorties (I/O) comme le nombre de ports USB, de ports r√©seau, leur vitesse, etc... Mais il faut √©galement veiller √† sa compatibilit√© avec les autres composants que vous allez brancher dessus.

Les composants importants √† brancher dessus sont :
- le CPU
- la RAM
- le stockage (HDD et/ou SSD)
- l'eventuel GPU d√©di√©

Il existe plusieurs formats de carte m√®re grand public :
- E-ATX : les plus grosses
- ATX : le standard
- Micro-ATX : plus petit
- Mini-ITX : le plus petit

Bien s√ªr, selon la taille, le nombre de ports et de fonctionnalit√© diff√®re. D'autre part, les constructeurs de machines d√©j√† assembl√©es peuvent aussi profiter de formats plus personnalis√©s.

## Le CPU
---

<div style="display: flex; align-items: center;">
  <img src="/img/global/cpu.svg" alt="Image" style="max-width: 25%; max-height:230px; margin-right: 20px;">
  <p>
Le <strong>CPU</strong> (Central processor Unit) est la supercalculette de l‚Äôordinateur. Il traite la plupart des t√¢ches logicielles. Aujourd‚Äôhui les processeurs comportent plusieurs c≈ìurs, parfois eux m√™me divis√© en deux de fa√ßon logicielle, afin de mieux r√©partir la charge de travail et optimiser son fonctionnement. Il n√©cessite d'etre refroidit avec un dissipateur actif (avec ventilateur) ou passif (sans ventilateur) selon la chaleur qu'iil d√©gage, et donc selon la puissance en Watt qu'il requiert. Dans le cadre d'un serveur, on veillera donc √† le choisir selon les usages que l'on aura. </p>
</div>

::alert{type="warning"}
:::list{type="warning"}
- __Attention :__ N'oubliez pas que pour installer un dissipateur tiers, vous devez vous assurer qu'il soit compatible avec le socket de votre processeur, c'est √† dire le socle sur lequel il est install√© sur la carte m√®re, et que vous devez √©galement appliquer de la pate thermique sur le CPU avant d'installer le dissipateur. 
:::
::


Il faut les juger selon :
- Leur nombre de coeurs (plus ils en ont, plus il peuvent parall√©liser les t√¢ches)
- La fr√©quence de ces coeurs en Giga Hertz _Ghz_
- Leur consommation en Watt _W_

Dans le cadre d'un homelab/NAS sans calcul intensif, aujourd'hui on se dirigera facilement vers les Intel N100/150 (4 coeurs) et N305/N355 (8 coeurs) qui sont des processeurs performants √† tr√®s faible consommation (rappelez vous que ces machines sont cens√©es tourner H24).

## La RAM
---

<p align="center">
  <img src="/img/global/ram.svg" alt="Image" style="max-width: 65%; margin-right: 20px;">
</p>

La __RAM__ (Random Access Memory), est une zone de stockage √©ph√©m√®re ultra rapide utilis√©e par le CPU (et l'iGPU le cas √©ch√©ant) pour stocker des informations et calculs le temps de les √©xecuter. Elle se vide r√©guli√®rement selon les sollicitation et se vide √©galement √† chaque extinction de la machine. Plus elle est performante, plus les calculs du processeur sont efficaces.

Elle prend g√©n√©ralement la forme de barettes, √† brancher sur la carte m√®re. Il en existe plusieurs format selon le type de carte m√®re, et de plusieurs g√©n√©rations (DDR5 de nos jours).

## Le GPU 
---

Le __GPU__ (Graphical Processor Unit) est un processeur d√©di√© aux calculs graphiques, vid√©o, et parfois d'intelligence artificielle. Dans le cadre d'un serveur, il aura son utilit√© pour tout ce qui touche au media center (Streaming de video comme [Plex](/serveex/media/plex) par exemple), mais aussi en terme d'acc√©l√©ration mat√©rielle pour les calculs d'IA comme la reconnaissance faciale ou la recherche sur des photos (comme via [Immich](/serveex/cloud/immich) par exemple).

Selon la puissance requise, on choisira un GPU d√©di√© avec sa propre VRAM (une carte graphique √† brancher sur un port PCIe de la carte m√®re), ou un iGPU, c'est √† dire un GPU compris dans le CPU (comme les N100/N150 et N305/N355), qui utilisera la RAM globale de la machine


### Le ou les HDD
---

<p align="center">
  <img src="/img/global/hdd.svg" alt="Image" style="max-width: 50%; margin-right: 20px;">
</p>

Un __HDD__ (Hard Disk Drive) ou disque dur, est un composant servant √† stocker des donn√©es. Autrefois, c'etait le stockage standard des machines informatiques. Ils sont constitu√©s d'un ou plusieurs disques superpos√©s en plateau, et de t√™tes de lecture, presque comme une platine vinyle. Si aujourd'hui on arrive √† stocker des quantit√©s extraordinaire de donn√©es dans un HDD (jusqu'√† 30To soit 30 000 Giga-octet de nos jours pour le grand public), ils sont limit√©s dans leur vitesse de lecture et d'√©criture par leur caract√®re m√©caniques. Ils sont √©galement volumineux et tr√®s lourds. 

De mani√®re g√©n√©rale, on les privil√©giera pour stocker des donn√©es qui ne servent pas √† des calculs et ne n√©cessitent pas d'ecriture rapide, comme les media (videos, photos...) ou les cloud drive, stockage d'archives, etc. Ils sont performants dans ces scenario et surtout coutent beaucoup moins cher que des SSD √† espace de stockage √©gal.

::alert{type="success"}
:::list{type="success"}
- __Astuce :__ Vous pouvez combiner plusieurs HDD ensemble en [RAID](/generalites/stockage/raid) afin d'accroitre les performances de votre machine.
:::
::

Il existe plusieurs formats de HDD : 3.5" et 2.5". De mani√®re g√©n√©rale dans un serveur on privil√©giera les 3.5, plus fiables.


### Le ou les SSD
---

<p align="center">
  <img src="/img/global/nvme.svg" alt="Image" style="max-width: 50%; margin-right: 20px;">
</p>

Un __SSD__ (Solid State Drive) est une petite carte sur laquelle sont soud√©es des puces de m√©moires servant √† stocker de l'information. Contrairement √† la RAM, ces puces conservent les informations m√™me lorsqu'elles ne sont pas aliment√©es et donc les conservent apr√®s un red√©marrage. C'est ce qui sert globalement de stockage pour votre serveur. Contrairement aux HDD, ils ne disposent pas de parties m√©caniques, sont tr√®s miniaturis√©s et surtout sont extr√™mement rapides, de l'ordre de plusieurs Giga-octets par seconde pour les plus performants. 

On les trouve dans plusieurs formats, aujourd'hui on priviligiera les versions M.2 NVMe, car ce sont les plus petits et plus rapides, et sont devenu un standard sur les cartes m√®res.

Ils sont en revanche beaucoup plus chers que les disque durs √† capacit√© de stockage √©gale. G√©n√©ralement, on y stockera au moins le syst√®me d'exploitation de la machine (Operating System ou OS) pour garantir une certaine rapidit√© d'execution. Dans le cadre d'un serveur, on y stockera aussi si possible les conteneurs type [docker](/serveex/coeur/docker) et les bases de donn√©es. De mani√®re g√©n√©rale, toute donn√©es dont un a besoin r√©guli√®rement et rapidement pour des calculs (site web, applications, etc...).

### La carte r√©seau
---

Une __carte r√©seau__ sert √† faire communiquer votre machine avec votre r√©seau (dont internet). Elle est compos√©e d'une puce de controle et d'un ou plusieurs port r√©seau. Ces ports peuvent dits _ports ethernet_ peuvent √™tre dans plusieurs formats physique et dans plusieurs normes de d√©bit :
- RJ45 Gigabit ethernet 10/100/1000 : le format standard de prise RJ45 permettant de dialoguer √† des d√©bit allant de 10Mbps (soit 0,125Mo/s) √† 1000Mbps (soit 125Mo/s)
- RJ45 2.5G : M√™me prise, pouvant dialoguer jusqu'√† 2,5Gpbs soit 2 500Mbps (donc 312,5Mo/s)
- RJ45 5G : M√™me prise, pouvant dialoguer jusqu'√† 5Gpbs (donc 625Mo/s)
- RJ45 10G Base T : M√™me prise pouvant dialoguer jusqu'√† 10Gbs (soit 1,25Go/s)
- SFP 1G : Prise SFP, g√©n√©ralement utilis√©e pour la fibre optique, pouvant dialoguer jusqu'√† 1Gpbs
- SFP+ 10G : Prise SFP am√©liori√©e, aussi utilis√©e pour la fibre optique, pouvant dialoguer jusqu'√† 10Gbps.

::alert{type="warning"}
:::list{type="warning"}
- __Attention :__ Pensez bien √† dimensionner vos appareils r√©seaux (routeurs, switch, cables...) en fonction du d√©bit que vous souhaitez entre vos appareils. D'autre part, il existe plusieurs normes de cables RJ45 selon la vitesse permise. On privilegiera dans la plupart des cas des cables RJ45 CAT5E, et au del√† de 10Gbps, on privil√©giera du CAT6A, bien que le CAT5E soit utilisable √† ces vitesses √† courte distance. Quant √† la fibre, c'est tout un sujet (simplex, duplex, transceiver...).
:::
::

La carte r√©seau est g√©n√©ralement directement int√©gr√©e √† la carte m√®re, mais vous pouvez utiliser des cartes r√©seau d√©di√©es comme par USB par exemple ou via un port d'extension PCIe. De mani√®re g√©n√©rale, sur un serveur, on appr√©ciera d'avoir au moins deux ports ethernet afin d'avoir de la redondance en cas de panne.

### Entr√©es et sorties
---

Les __ports d'entr√©es et sorties__ (Input/Outpout) sont l'ensemble des ports de la machine permettant d'√©changer de l'information avec des appareils externes (√©crans, clavier, souris, r√©seau...). G√©n√©ralement, sur une carte m√®re on retrouve le ou les ports r√©seaux, des ports USB de plusieurs formats et vitesse diff√©rentes, un ou plusieurs port vid√©o, et des ports audio.

Selon vos usages, vous devrez choisir votre carte mere et ses √©ventuelles cartes d'extension en fonction de vos besoin √† ce niveau.

### L'alimentation
---

__L'alimentation__ est le composant qui permet d'alimenter √©lectriquement les composants de votre machine. Elle se compose d'un cable secteur en entr√©e, et de plusieurs types de cables en sorties. Ces cables se branchent sur la carte m√®re et diff√©rents p√©riph√©riques le n√©cessitant, comme les disques dur, ou certaines cartes graphiques d√©di√©es. L'alimentation se caract√©rise par sa puissance, en Watt, sa modularit√© (cables attach√©s ou d√©tachables), et son rendement, en pourcentage. Comprendre qu'une alimentation de 500W avec un rendement de 80% consommera en fait 625W pour fournir ces 500W.

Une autre caract√©ristiques des alimentations sont leur format. Il en existe plusieurs standard, comme ATX L pour les plus grandes jusqu'√† SFX pour les plus petites. Il en existe aussi des sp√©cifiques aux serveurs rackables, par d√©finition assez plats.

Pour choisir votre alimentation, la convention est d'estimer la puissance electrique demand√©e par votre machine √† usage et de multiplier par deux cette puissance. En effet, le rendement des alimentations se situe environ √† 50% de sa charge totale.

### Le boitier
---

<div style="display: flex; align-items: center;">
  <img src="/img/global/case.svg" alt="Image" style="max-width: 25%; max-height:230px; margin-right: 20px;">
  <p>Le <strong>boitier</strong> est √©galement un composant essentiel pour votre machine. Il conditionne le refroidissement de cette derni√®re, avec ses ventilateurs et sa conception g√©rant les flux d'air, mais aussi le format de votre carte mere, de votre alimentation et de votre √©ventuel GPU d√©di√©. D'autre part, il conditionne √©galement le nombre de HDD et leur format. Certains boitiers sont dit rackables, c'est √† dire qu'ils peuvent etre fix√©s dans des racks pour des armoires informatiques (baies serveurs). Choisissez consciencieusement votre boitier en fonction de vos besoins.</p>
</div>